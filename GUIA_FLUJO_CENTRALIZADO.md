# Gu√≠a Completa: Flujo Centralizado de Vacantes y CVs

## üìñ Descripci√≥n General

Esta gu√≠a documenta el flujo completo y centralizado para el manejo de vacantes y hojas de vida en un solo repositorio, sin dependencias externas.

## üéØ Objetivos

- **Simplicidad**: Todo en un solo repositorio
- **Automatizaci√≥n**: Procesamiento autom√°tico mediante GitHub Actions
- **Organizaci√≥n**: CVs organizados por fecha para f√°cil b√∫squeda
- **Trazabilidad**: Historial completo de vacantes y aplicaciones
- **Eficiencia**: Eliminaci√≥n de sincronizaci√≥n entre m√∫ltiples repositorios

## üìÅ Estructura de Carpetas

```
proyecto_vacantes_modelo_entrenamiento/
‚îÇ
‚îú‚îÄ‚îÄ vacantes_yaml_manual/        # ‚úèÔ∏è CREAR/EDITAR VACANTES AQU√ç
‚îÇ   ‚îú‚îÄ‚îÄ vacante1.yaml           # Vacantes en formato YAML
‚îÇ   ‚îú‚îÄ‚îÄ vacante2.yaml
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ to_process/                  # üîÑ PROCESAMIENTO AUTOM√ÅTICO
‚îÇ   ‚îú‚îÄ‚îÄ vacante1.yaml           # Vacantes copiadas autom√°ticamente
‚îÇ   ‚îî‚îÄ‚îÄ processed/              # Vacantes ya procesadas (respaldo)
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ aplicaciones/                # üìÅ CVs ORGANIZADOS POR FECHA
‚îÇ   ‚îú‚îÄ‚îÄ 2025/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 10/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 25/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cv1.yaml
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cv2.yaml
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 26/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ 27/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ 11/
‚îÇ   ‚îî‚îÄ‚îÄ 2024/
‚îÇ
‚îú‚îÄ‚îÄ scripts/                     # üîß SCRIPTS DE AUTOMATIZACI√ìN
‚îÇ   ‚îú‚îÄ‚îÄ copy_to_process.py      # Copia vacantes a to_process/
‚îÇ   ‚îú‚îÄ‚îÄ process_and_organize_cv.py  # Procesa y organiza CVs
‚îÇ   ‚îú‚îÄ‚îÄ extract_vacantes_from_text.py  # Extrae desde texto plano
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îî‚îÄ‚îÄ .github/workflows/           # ‚öôÔ∏è GITHUB ACTIONS
    ‚îî‚îÄ‚îÄ process_vacancies.yml   # Workflow principal
```

## üîÑ Flujo de Trabajo Completo

### Paso 1: Crear/Editar Vacante

**D√≥nde**: `/vacantes_yaml_manual/`

**C√≥mo**:
1. Crear nuevo archivo YAML o editar existente
2. Seguir el formato requerido (ver secci√≥n de Formato)
3. Guardar archivo

**Ejemplo**:
```yaml
# vacantes_yaml_manual/data_analyst_techcorp_2025-10-27.yaml

cargo: "Data Analyst"
empresa: "TechCorp Solutions"
fecha: "2025-10-27"
modalidad: "remoto"
descripcion: |
  Buscamos un Data Analyst para unirse a nuestro equipo.
  
  Responsabilidades:
  - An√°lisis de datos empresariales
  - Creaci√≥n de dashboards
  - Reportes ejecutivos
  
requerimientos:
  - 3+ a√±os de experiencia en an√°lisis de datos
  - Dominio de SQL y Python
  - Experiencia con Power BI o Tableau
  - Excelentes habilidades de comunicaci√≥n
```

### Paso 2: Commit y Push

**Comando**:
```bash
git add vacantes_yaml_manual/data_analyst_techcorp_2025-10-27.yaml
git commit -m "Agregar vacante Data Analyst - TechCorp"
git push
```

### Paso 3: GitHub Actions (Autom√°tico)

**Trigger**: Push a `vacantes_yaml_manual/*.yaml`

**Proceso Autom√°tico**:

1. **Detecta cambios**
   - GitHub Actions identifica archivos modificados/agregados
   - Solo procesa archivos `.yaml` en `vacantes_yaml_manual/`

2. **Copia a to_process**
   - Ejecuta `scripts/copy_to_process.py`
   - Copia archivos modificados a `/to_process/`

3. **Procesa vacantes**
   - Ejecuta `scripts/process_and_organize_cv.py`
   - Lee vacantes de `/to_process/`
   - Genera documentos/CVs

4. **Organiza CVs**
   - Extrae fecha de la vacante
   - Crea estructura `aplicaciones/YYYY/MM/DD/`
   - Copia CV a la ubicaci√≥n correspondiente
   - Mueve vacante procesada a `/to_process/processed/`

5. **Commit autom√°tico**
   - Guarda cambios en el repositorio
   - Push autom√°tico con mensaje `[skip ci]`

### Paso 4: Verificaci√≥n

**Verificar CVs organizados**:
```bash
# Ver estructura de aplicaciones
ls -R aplicaciones/

# Ver CVs de una fecha espec√≠fica
ls aplicaciones/2025/10/27/
```

## üìã Formato de Vacante YAML

### Campos Requeridos

```yaml
cargo: "string"           # Nombre del puesto
empresa: "string"         # Nombre de la empresa
fecha: "YYYY-MM-DD"      # Fecha en formato ISO
descripcion: |            # Descripci√≥n del puesto (multilinea)
  Texto descriptivo...
requerimientos:           # Lista de requisitos
  - Requisito 1
  - Requisito 2
```

### Campos Opcionales

```yaml
modalidad: "string"       # remoto, h√≠brido, presencial
ubicacion: "string"       # Ciudad, pa√≠s
tipo_contrato: "string"   # Full-time, Part-time, Contract
salario: "string"         # Rango salarial
```

### Ejemplo Completo

```yaml
cargo: "Senior Business Analyst"
empresa: "Global Tech Inc"
fecha: "2025-10-27"
modalidad: "h√≠brido"
ubicacion: "Bogot√°, Colombia"
tipo_contrato: "Full-time"
salario: "Competitivo"

descripcion: |
  Buscamos un Business Analyst senior con experiencia en proyectos 
  de transformaci√≥n digital.
  
  Responsabilidades:
  - An√°lisis de requerimientos de negocio
  - Documentaci√≥n de procesos
  - Coordinaci√≥n con equipos t√©cnicos
  - Gesti√≥n de stakeholders

requerimientos:
  - 5+ a√±os como Business Analyst
  - Experiencia en metodolog√≠as √°giles (Scrum, Kanban)
  - Conocimiento de herramientas: Jira, Confluence
  - Ingl√©s avanzado (B2+)
  - Certificaci√≥n CBAP (deseable)
```

## üîß Uso Manual de Scripts

Si prefieres ejecutar los scripts manualmente sin esperar a GitHub Actions:

### Script 1: Copiar a to_process

```bash
# Copiar solo archivos modificados (usado por GitHub Actions)
python scripts/copy_to_process.py

# Copiar todos los archivos
python scripts/copy_to_process.py --all

# Modo silencioso
python scripts/copy_to_process.py --quiet
```

**Opciones**:
- `--source DIR`: Directorio fuente (default: vacantes_yaml_manual)
- `--dest DIR`: Directorio destino (default: to_process)
- `--all`: Copiar todos los archivos, no solo modificados
- `--quiet, -q`: Modo silencioso

### Script 2: Procesar y Organizar CVs

```bash
# Procesamiento est√°ndar
python scripts/process_and_organize_cv.py

# Especificar directorios personalizados
python scripts/process_and_organize_cv.py \
  --to-process-dir mi_proceso \
  --aplicaciones-dir mis_aplicaciones

# Modo silencioso
python scripts/process_and_organize_cv.py --quiet
```

**Opciones**:
- `--to-process-dir DIR`: Directorio con vacantes a procesar (default: to_process)
- `--aplicaciones-dir DIR`: Directorio base para CVs (default: aplicaciones)
- `--quiet, -q`: Modo silencioso

## üìä Organizaci√≥n de CVs por Fecha

### Estructura Jer√°rquica

```
aplicaciones/
‚îî‚îÄ‚îÄ YYYY/              # A√±o
    ‚îî‚îÄ‚îÄ MM/            # Mes (01-12)
        ‚îî‚îÄ‚îÄ DD/        # D√≠a (01-31)
            ‚îî‚îÄ‚îÄ archivo.yaml
```

### Beneficios

1. **B√∫squeda R√°pida**: Encontrar CVs por fecha espec√≠fica
2. **Organizaci√≥n Cronol√≥gica**: Orden temporal claro
3. **Facilidad de Archivo**: Estructura intuitiva
4. **Escalabilidad**: Soporta crecimiento ilimitado

### Ejemplos de Rutas

```
aplicaciones/2025/10/27/senior_developer_techcorp_2025-10-27.yaml
aplicaciones/2025/11/15/business_analyst_consulting_2025-11-15.yaml
aplicaciones/2024/12/20/data_scientist_startup_2024-12-20.yaml
```

## ü§ñ GitHub Actions Workflow

### Configuraci√≥n: .github/workflows/process_vacancies.yml

```yaml
name: Process Vacancies and Organize CVs

on:
  push:
    paths:
      - 'vacantes_yaml_manual/*.yaml'

jobs:
  process_vacancies:
    runs-on: ubuntu-latest
    steps:
      - Checkout repository
      - Set up Python
      - Install dependencies
      - Copy to to_process
      - Process and organize CVs
      - Commit and push changes
```

### Caracter√≠sticas

- **Trigger selectivo**: Solo se ejecuta con cambios en `vacantes_yaml_manual/*.yaml`
- **Procesamiento eficiente**: Solo procesa archivos modificados
- **Commit inteligente**: Solo hace commit si hay cambios
- **Skip CI**: Evita bucles infinitos con `[skip ci]`

## üîç Trazabilidad y Auditor√≠a

### Historial de Git

Cada vacante y CV queda registrado en el historial de Git:

```bash
# Ver historial de una vacante
git log -- vacantes_yaml_manual/mi_vacante.yaml

# Ver historial de CVs de una fecha
git log -- aplicaciones/2025/10/27/

# Ver todos los cambios recientes
git log --oneline --graph --all
```

### Respaldos

Las vacantes procesadas se mueven a `/to_process/processed/` como respaldo:

```bash
# Ver vacantes procesadas
ls to_process/processed/

# Restaurar una vacante procesada
cp to_process/processed/mi_vacante.yaml vacantes_yaml_manual/
```

## üö® Soluci√≥n de Problemas

### Problema: GitHub Actions no se ejecuta

**Posibles causas**:
- Cambios en archivos que no son YAML
- Cambios fuera de `vacantes_yaml_manual/`
- Workflow deshabilitado

**Soluci√≥n**:
```bash
# Verificar que el archivo est√© en la ruta correcta
ls vacantes_yaml_manual/*.yaml

# Verificar que el workflow est√© habilitado
# En GitHub: Actions > Workflows > Process Vacancies > Enable
```

### Problema: CV no se organiz√≥ correctamente

**Posible causa**: Fecha inv√°lida en el YAML

**Soluci√≥n**:
```bash
# Verificar formato de fecha en el YAML
# Debe ser: YYYY-MM-DD

# Ejemplo correcto:
fecha: "2025-10-27"

# Ejemplo incorrecto:
fecha: "27/10/2025"  # ‚ùå
```

### Problema: Vacante no se proces√≥

**Diagn√≥stico**:
```bash
# Verificar logs de GitHub Actions
# En GitHub: Actions > √∫ltimo workflow run > Ver logs

# Ejecutar manualmente para ver errores
python scripts/process_and_organize_cv.py
```

## üìà Mejores Pr√°cticas

### 1. Nomenclatura de Archivos

Usar formato descriptivo:
```
{cargo}_{empresa}_{fecha}.yaml

Ejemplos:
- senior_developer_techcorp_2025-10-27.yaml
- business_analyst_consulting_2025-11-15.yaml
- data_scientist_startup_2025-12-20.yaml
```

### 2. Commits Descriptivos

```bash
# ‚úÖ Bueno
git commit -m "Agregar vacante Senior Developer - TechCorp"

# ‚úÖ Bueno
git commit -m "Actualizar requisitos de Business Analyst - Consulting Inc"

# ‚ùå Malo
git commit -m "Update"
git commit -m "cambios"
```

### 3. Validaci√≥n Previa

Antes de hacer push, verificar el YAML:

```bash
# Verificar sintaxis YAML
python -c "import yaml; yaml.safe_load(open('vacantes_yaml_manual/mi_vacante.yaml'))"

# Si no hay output, el YAML es v√°lido
```

### 4. Revisi√≥n de CVs

Peri√≥dicamente revisar los CVs organizados:

```bash
# Ver CVs del mes actual
ls aplicaciones/$(date +%Y)/$(date +%m)/

# Contar CVs por mes
find aplicaciones/ -type f | cut -d'/' -f2,3 | sort | uniq -c
```

## üîê Seguridad

### No Versionar Datos Sensibles

El `.gitignore` ya excluye:
- Datos personales (`data/`)
- Modelos entrenados (`models/`)
- Archivos temporales (`output/`)

### Datos a Versionar

‚úÖ **S√≠ versionar**:
- Vacantes en `vacantes_yaml_manual/`
- CVs en `aplicaciones/` (si no contienen datos sensibles)
- Scripts y configuraciones

‚ùå **No versionar**:
- Datos de entrenamiento en `data/`
- Modelos en `models/`
- Archivos temporales en `output/`

## üìö Referencias

- **GUIA_EXTRACTOR_TEXTO_PLANO.md**: Extracci√≥n desde texto desestructurado
- **GUIA_PROCESADOR_VACANTES.md**: Procesamiento de YAML m√∫ltiples
- **EJEMPLO_USO_EXTRACTOR.md**: Ejemplos pr√°cticos
- **README.md**: Gu√≠a r√°pida del repositorio

## üéì Ejemplos de Uso

### Ejemplo 1: Agregar Nueva Vacante

```bash
# 1. Crear archivo YAML
cat > vacantes_yaml_manual/python_developer_startup_2025-10-27.yaml << EOF
cargo: "Python Developer"
empresa: "AI Startup"
fecha: "2025-10-27"
modalidad: "remoto"
descripcion: |
  Desarrollador Python para proyecto de IA.
requerimientos:
  - Python avanzado
  - FastAPI o Django
  - Docker y Kubernetes
EOF

# 2. Commit y push
git add vacantes_yaml_manual/python_developer_startup_2025-10-27.yaml
git commit -m "Agregar vacante Python Developer - AI Startup"
git push

# 3. GitHub Actions procesa autom√°ticamente
# 4. Verificar resultado
git pull
ls aplicaciones/2025/10/27/
```

### Ejemplo 2: Procesamiento Manual de M√∫ltiples Vacantes

```bash
# 1. Copiar todas las vacantes a to_process
python scripts/copy_to_process.py --all

# 2. Procesar todas
python scripts/process_and_organize_cv.py

# 3. Ver resultados
find aplicaciones/ -name "*.yaml" -type f | head -10
```

### Ejemplo 3: Buscar CVs por Fecha

```bash
# CVs de octubre 2025
ls aplicaciones/2025/10/*/

# CVs de un d√≠a espec√≠fico
ls aplicaciones/2025/10/27/

# Contar CVs por d√≠a
find aplicaciones/2025/10/ -name "*.yaml" | wc -l
```

## üèÜ Conclusi√≥n

Este flujo centralizado proporciona:

‚úÖ **Simplicidad**: Todo en un repositorio  
‚úÖ **Automatizaci√≥n**: GitHub Actions maneja el flujo  
‚úÖ **Organizaci√≥n**: CVs por fecha a√±o/mes/d√≠a  
‚úÖ **Trazabilidad**: Historial completo en Git  
‚úÖ **Eficiencia**: Sin dependencias externas  

**¬°Listo para usar!** üöÄ
